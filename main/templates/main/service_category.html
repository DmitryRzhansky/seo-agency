{% extends "main/base.html" %}
{% load static %}
{% load seo_tags %}

{% block title %}{{ category.title }}{% endblock title %}

{% block breadcrumbs %}
{% breadcrumbs category %}
{% endblock breadcrumbs %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/service-category-brutal.css' %}">
<link rel="stylesheet" href="{% static 'css/breadcrumbs-brutal.css' %}">
{% endblock extra_css %}

{% block content %}

<!-- Hero секция категории услуг - брутальная -->
<section class="brutal-category-hero">
    <div class="brutal-container">
        <div class="brutal-category-hero-content">
            <h1 class="brutal-category-hero-title">{{ category.title }}</h1>
            <p class="brutal-category-hero-subtitle">Здесь вы найдете полный спектр услуг по тематике «{{ category.title }}». Выберите то, что нужно вашему бизнесу.</p>
        </div>
    </div>
</section>

<!-- Список услуг категории - брутальный -->
<section class="brutal-category-services">
    <div class="brutal-container">
        <h2 class="brutal-category-services-title">Наши услуги в разделе «{{ category.title }}»</h2>
        
        {% if services %}
        <div class="brutal-category-grid">
            {% for service in services %}
            <div class="brutal-category-service-card">
                {% if service.image %}
                <img src="{{ service.image.url }}" class="brutal-category-service-card-image" alt="{{ service.get_image_alt }}">
                {% else %}
                <div class="brutal-category-service-card-placeholder">
                    <i class="fas fa-cogs"></i>
                </div>
                {% endif %}
                <div class="brutal-category-service-card-category">{{ service.category.title }}</div>
                <h3 class="brutal-category-service-card-title">{{ service.title }}</h3>
                <p class="brutal-category-service-card-description">{{ service.short_description }}</p>
                <a href="{% url 'services:service_detail' slug=service.slug %}" class="brutal-category-service-card-link">
                    Подробнее об услуге
                </a>
            </div>
            {% endfor %}
        </div>

        <!-- Пагинация -->
        {% if is_paginated %}
        <div class="pagination-brutal">
            {% if services.has_previous %}
                <a href="?page={{ services.previous_page_number }}" class="page-link-brutal">
                    <i class="fas fa-chevron-left me-1"></i>Предыдущая
                </a>
            {% else %}
                <span class="page-link-brutal disabled">
                    <i class="fas fa-chevron-left me-1"></i>Предыдущая
                </span>
            {% endif %}

            {% for i in services.paginator.page_range %}
                {% if services.number == i %}
                    <span class="page-link-brutal active">{{ i }}</span>
                {% else %}
                    <a href="?page={{ i }}" class="page-link-brutal">{{ i }}</a>
                {% endif %}
            {% endfor %}

            {% if services.has_next %}
                <a href="?page={{ services.next_page_number }}" class="page-link-brutal">
                    Следующая<i class="fas fa-chevron-right ms-1"></i>
                </a>
            {% else %}
                <span class="page-link-brutal disabled">
                    Следующая<i class="fas fa-chevron-right ms-1"></i>
                </span>
            {% endif %}
        </div>
        {% endif %}
        {% else %}
        <div class="brutal-empty-state">
            <i class="fas fa-search"></i>
            <h3>В этом разделе пока нет добавленных услуг</h3>
            <p>Мы работаем над наполнением этого раздела. Скоро здесь появятся новые услуги!</p>
        </div>
        {% endif %}
    </div>
</section>

{% endblock content %}