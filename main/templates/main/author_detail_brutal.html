{% extends "main/base.html" %}
{% load static %}
{% load seo_tags %}

{% block title %}{{ author.get_full_name }}{% endblock title %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <div class="container">
        <a href="{% url 'main:home' %}">Главная</a><span class="separator">/</span><span class="current">{{ author.get_full_name }}</span>
    </div>
</div>
{% endblock breadcrumbs %}

{% block content %}

<section class="page-hero">
    <div class="container">
        <div class="page-hero-content">
            <h1 class="page-hero-title">{{ author.get_full_name }}</h1>
            {% if author.role %}
            <p class="page-hero-subtitle">{{ author.role }}</p>
            {% endif %}
        </div>
    </div>
</section>

{% if posts %}
<section class="content-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Статьи автора</h2>
        </div>
        <div class="content-grid">
            {% for post in posts %}
            <article class="content-card">
                {% if post.image %}
                <img src="{{ post.image.url }}" class="content-card-image" alt="{{ post.title }}">
                {% else %}
                <div class="content-card-placeholder"><i class="fas fa-newspaper"></i></div>
                {% endif %}
                {% if post.category %}<div class="content-card-meta">{{ post.category.name }}</div>{% endif %}
                <h3 class="content-card-title"><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h3>
                <p class="content-card-text">{{ post.excerpt|default:post.content|striptags|truncatewords:20 }}</p>
                <div class="content-card-footer">
                    <div class="content-card-info"><span>{{ post.published_date|date:"d.m.Y" }}</span></div>
                    <a href="{{ post.get_absolute_url }}" class="content-card-link"><span>Читать</span><span class="arrow">→</span></a>
                </div>
            </article>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

{% endblock content %}
